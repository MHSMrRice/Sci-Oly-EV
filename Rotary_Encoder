//input pins
const int encoder0PinA = 2;
const int encoder0PinB = 3;
const int BinButton    = A1;
const int GoButton     = A2;

//relay pins
const int relay1       = 4;
const int relay2       = 5;
const int relay3       = 6;
const int relay4       = 7;

//Binary LED pins -- get these from the fancy binary thing in the corvette code

volatile unsigned int encoder0Pos = 0;

void setup() {

  pinMode(encoder0PinA, INPUT_PULLUP); 
  pinMode(encoder0PinB, INPUT_PULLUP);
  pinMode(BinButton, INPUT_PULLUP); 
  pinMode(GoButton, INPUT_PULLUP);

// encoder pin on interrupt 0 (pin 2)
  attachInterrupt(0, doEncoderA, CHANGE);

// encoder pin on interrupt 1 (pin 3)
  attachInterrupt(1, doEncoderB, CHANGE);  

  Serial.begin (9600);
}

void loop(){ //Do stuff here 
  Serial.println (encoder0Pos, DEC);      
  delay(1000);
  }





void doEncoderA(){

  // look for a low-to-high on channel A
  if (digitalRead(encoder0PinA) == HIGH) { 
      
      // check channel B to see which way encoder is turning
      if (digitalRead(encoder0PinB) == LOW) {  
        encoder0Pos = encoder0Pos + 1;         // CW
      }else{
        encoder0Pos = encoder0Pos - 1;         // CCW
      }
      
  }else{    // must be a high-to-low edge on channel A  
     
      // check channel B to see which way encoder is turning  
      if (digitalRead(encoder0PinB) == HIGH) {   
        encoder0Pos = encoder0Pos + 1;          // CW
      }else{
        encoder0Pos = encoder0Pos - 1;          // CCW
      }
  }
  Serial.println (encoder0Pos, DEC);          
  // use for debugging - remember to comment out
}

void doEncoderB(){

  // look for a low-to-high on channel B
  if (digitalRead(encoder0PinB) == HIGH) {   

     // check channel A to see which way encoder is turning
      if (digitalRead(encoder0PinA) == HIGH) {  
        encoder0Pos = encoder0Pos + 1;         // CW
      }else{
        encoder0Pos = encoder0Pos - 1;         // CCW
      }
      
  }else{      // Look for a high-to-low on channel B
    
      // check channel B to see which way encoder is turning  
      if (digitalRead(encoder0PinA) == LOW) {   
        encoder0Pos = encoder0Pos + 1;          // CW
      } 
      else {
        encoder0Pos = encoder0Pos - 1;          // CCW
      }
  }
} 
